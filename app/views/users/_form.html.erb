<%= render partial: 'shared/list_of_errors', locals: { entity: entity } %>

<%= form_for entity do |f| %>
    <table>
      <tbody>
      <tr>
        <td colspan="2">
          <figure class="preview" id="user-image">
            <%= image_tag entity.image.profile.url, alt: t(:current_image) %>
            <figcaption>
              <%= f.label :image %>
              <%= f.file_field :image, accept: 'image/jpeg,image/png', data: { image: 'user-image' } %>
            </figcaption>
          </figure>
        </td>
      </tr>
      <% if entity.id.blank? %>
          <tr>
            <th><%= f.label :network %></th>
            <td><%= f.select :network, networks_for_select %></td>
          </tr>
      <% else %>
          <tr>
            <th><%= t('activerecord.attributes.user.network') %></th>
            <td><%= entity.network %></td>
          </tr>
      <% end %>
      <tr>
        <th><%= f.label :slug %></th>
        <td><%= f.text_field :slug, required: true, size: 30 %></td>
      </tr>
      <tr>
        <th><%= f.label :screen_name %></th>
        <td><%= f.text_field :screen_name, size: 30 %></td>
      </tr>
      <tr>
        <th><%= f.label :name %></th>
        <td><%= f.text_field :name, size: 30 %></td>
      </tr>
      <tr>
        <th><%= f.label :email %></th>
        <td><%= f.email_field :email, size: 30 %></td>
      </tr>
      <% if entity.id.blank? %>
          <tr>
            <th><%= f.label :password %></th>
            <td><%= f.text_field :password %></td>
          </tr>
          <tr>
            <th><%= f.label :password_confirmation %></th>
            <td><%= f.text_field :password_confirmation %></td>
          </tr>
      <% end %>
      <tr>
        <th><%= f.label :gender %></th>
        <td><%= f.select :gender, genders_for_select %></td>
      </tr>
      <tr>
        <td colspan="2">
          <div>
            <%= f.check_box :bot %>
            <%= f.label :bot %>
          </div>
          <div>
            <%= f.check_box :allow_login %>
            <%= f.label :allow_login %>
          </div>
          <div>
            <%= f.check_box :email_confirmed %>
            <%= f.label :email_confirmed %>
          </div>
          <div>
            <%= f.check_box :allow_mail %>
            <%= f.label :allow_mail %>
          </div>
        </td>
      </tr>
      <tr>
        <td colspan="2">
          <fieldset>
            <legend><%= t('.roles') %></legend>
            <ul>
              <% UserRole.roles.keys.each do |role| %>
                  <li>
                    <%= check_box_tag "roles[#{role}]", 1, @entity.has_role?(role) %>
                    <%= label_tag "roles_#{role}", t("activerecord.attributes.user_role.roles.#{role}") %>
                  </li>
              <% end %>
            </ul>
          </fieldset>
        </td>
      </tr>
      </tbody>
      <tfoot>
      <tr>
        <td colspan="2">
          <%= f.button t(:save), type: :submit %>
        </td>
      </tr>
      </tfoot>
    </table>
<% end %>
